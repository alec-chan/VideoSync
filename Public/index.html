<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"></meta>

    <meta
        http-equiv="X-UA-Compatible"
        content="IE=edge"
    ></meta>

    <meta
        name="viewport"
        content="width=device-width, shrink-to-fit=no, initial-scale=1"
    ></meta>

    <meta
        name="description"
        content="Watch movies and videos in real-time with friends!"
    ></meta>

    <meta
        name="author"
        content="Alec Chan"
    ></meta>

    <title>sync.theater</title>

    <!-- Bootstrap Core CSS -->

    <link
        href="cssm/bootstrap.min.css"
        rel="stylesheet"
    ></link>

    <link rel="icon" 
      type="image/png" 
      href="favicon.png">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="node_modules/css-toggle-switch/dist/toggle-switch.css">
    <link
        href="cssm/sync.min.css"
        rel="stylesheet"
    ></link>

    <link
        href="cssm/video-js.min.css"
        rel="stylesheet"
    ></link>

</head>

<body>
    <div id="wrapper">
        <!-- Sidebar -->

        <div id="sidebar-wrapper">
            <h1>chat</h1>

            <input
                id="name"
                type="text"
                style="width: 100%; background: transparent; color: #ffffff;"
                placeholder="enter name (12 letter max)"
                maxlength="12"
            ></input>

            <div
                class="pesan_chat"
                id="chat_area"
            ></div>

            <div class="chatbox">
                <input
                    type="text"
                    id="chat_msg_box"
                    style="width: 100%; background: transparent; color: #ffffff;"
                    placeholder="write a message.."
                ></input>
            </div>
        </div>

        <!-- /#sidebar-wrapper -->
        <!-- Page Content -->

        <div id="page-content-wrapper">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-lg-12">
                        <div id="buttons">
                            <a
                                id="menu-toggle"
                                title="Toggle chat"
                                data-placement="right"
                                href="#menu-toggle"
                                
                            >
                                <span id="chat-icon"
                                    class="glyphicon glyphicon-comment"
                                    style="font-size: 34px; color: #bdbdbd;"
                                ></span>
                            </a>
                            <br/>
                            <br/>

                            <a
                                id="theater-toggle"
                                title="Toggle theater mode"
                                data-placement="right"
                                href="#theater-toggle"
                                onclick="toggleTheaterMode(); return false;"
                            >
                                <span
                                    class="glyphicon glyphicon-fullscreen"
                                    style="font-size: 34px; color: #bdbdbd;"
                                ></span>
                                
                            </a>
                            
                            <br/>
                            <br/>
                            <a
                                id="queue-toggle"
                                title="Toggle queue"
                                data-placement="right"
                                href="#queue-toggle"
                                onclick="toggleQueue(); return false;"
                            >
                                <span
                                    class="glyphicon glyphicon-list"
                                    style="font-size: 36px; color: #bdbdbd;"
                                ></span>
                                
                            </a>
                        </div>
                        <div id="userstatus">
                            <div id="login" class="login">
                                <i class="fa fa-user-circle"></i> <a href="#" onclick="$('#login-form').show();$('#login-modal').modal('show'); return false;">login</a> | <i class="fa fa-user-plus"></i> <a href="#" onclick="$('#register-form').show();$('#login-modal').modal('show'); return false;">register</a>
                            </div>
                            <div id="loggedin" class="hidden login">
                                <i class='fa fa-user-circle'></i> welcome back <span id="username" style='color: #FFC107'> </span>! | <a href='#' onclick='logout(); return false;'>logout</a>
                            </div>
                        </div>
                        <!-- BEGIN # MODAL LOGIN -->
                        <div class="modal fade" id="login-modal" tabindex="-1" role="dialog">
                                <div class="modal-dialog">
                                    <div class="modal-content">
                                        <div class="modal-header" align="center">
                                            Login/Register
                                        </div>
                                        
                                        <!-- Begin # DIV Form -->
                                        <div id="div-forms">
                                        
                                            <!-- Begin # Login Form -->
                                            <form id="login-form" style="display:none;">
                                                <div class="modal-body">
                                                    
                                                    <input id="login_username" class="form-control" type="text" placeholder="Username" required>
                                                    <input id="login_password" class="form-control" type="password" placeholder="Password" required>
                                                    <div class="checkbox">
                                                        <label>
                                                            <input id="login_remember" type="checkbox"> Remember me
                                                        </label>
                                                    </div>
                                                </div>
                                                <div class="modal-footer">
                                                    <div>
                                                        <button type="submit" class="btn btn-success btn-lg btn-block sync-button">Login</button>
                                                    </div>
                                                    <div>
                                                        <!--<button id="login_lost_btn" type="button" class="btn btn-link">Lost Password?</button>-->
                                                        <button id="login_register_btn" type="button" class="btn btn-link">Register</button>
                                                    </div>
                                                </div>
                                            </form>
                                            <!-- End # Login Form -->
                                            
                                            <!-- Begin | Lost Password Form -->
                                            <form id="lost-form" style="display:none;">
                                                <div class="modal-body">
                                                    
                                                    <input id="lost_email" class="form-control" type="text" placeholder="E-Mail" required>
                                                </div>
                                                <div class="modal-footer">
                                                    <div>
                                                        <button type="submit" class="btn btn-success btn-lg btn-block sync-button">Send</button>
                                                    </div>
                                                    <div>
                                                        <button id="lost_login_btn" type="button" class="btn btn-link">Log In</button>
                                                        <button id="lost_register_btn" type="button" class="btn btn-link">Register</button>
                                                    </div>
                                                </div>
                                            </form>
                                            <!-- End | Lost Password Form -->
                                            
                                            <!-- Begin | Register Form -->
                                            <form id="register-form" style="display:none;">
                                                <div class="modal-body">
                                                    
                                                    <input id="register_username" class="form-control" type="text" placeholder="Username" required>
                                                    <input id="register_email" class="form-control" type="text" placeholder="E-Mail" required>
                                                    <input id="register_password" class="form-control" type="password" placeholder="Password" required>
                                                </div>
                                                <div class="modal-footer">
                                                    <div>
                                                        <button type="submit" class="btn btn-success btn-lg btn-block sync-button">Register</button>
                                                    </div>
                                                    <div>
                                                        <button id="register_login_btn" type="button" class="btn btn-link">Log In</button>
                                                        <!--<button id="register_lost_btn" type="button" class="btn btn-link">Lost Password?</button>-->
                                                    </div>
                                                </div>
                                            </form>
                                            <!-- End | Register Form -->
                                            
                                        </div>
                                        <!-- End # DIV Form -->
                                        
                                    </div>
                                </div>
                            </div>
                            <!-- END # MODAL LOGIN -->

                        <div id="main-content">
                            <div id="non-video-content">
                                <a
                                    href="http://sync.theater/"
                                    style="text-decoration: none;"
                                >
                                    <h1
                                        id="headerid"
                                        class="title"
                                    >sync.theater</h1>
                                </a>

                                <div id="infodiv">
                                    <span id="subtitlespan">
                                        <span id="subtitle">Share your room code!</span>

                                        <input
                                            type="text"
                                            onclick="this.select();"
                                            id="code"
                                            readonly="readonly"
                                        ></input>
                                    </span>
                                    
                                    <label id="roomtoggle" class="switch-light switch-holo hidden noSelect" onclick="" title="Opening your room will allow anyone to control playback and add to or clear the queue.">
                                        <input type="checkbox" id="roomopentoggle">
                                            <strong>Room Permission</strong>
                                        <span>
                                            <span>Closed</span>
                                            <span>Open</span>
                                            <a id="togglea"></a>
                                        </span>
                                    </label>
                                </div>
                                
                                
                            </div>

                            <div id="video-wrapper">
                                <video
                                    id="video"
                                    class="video-js vjs-default-skin vjs-fluid"
                                    controls="controls"
                                    preload="auto"
                                    poster=""
                                    data-setup='{"techOrder": ["html5", "youtube"], "fluid":true}'
                                ></video>
                                <div id="side-by-side-queue">
                                    <h4
                                        id="queuetitle"
                                        class=""
                                        style="margin-bottom: 10px;"
                                    >Queue</h4>

                                    <div
                                        id="queue"
                                        class=""

                                    ></div>

                                    <a
                                        class="button button-primary"
                                        id="gethash"
                                        title="Saves your queue to cookies. Press clear queue to delete the cookie."
                                        style="margin-top: 5px; width: 100%;"
                                    >Save queue</a>
                                </div>
                            </div>
                            

                            <div id="foot" class="container">
                                <div class="row">
                                    <div class="col-xs-6" style="text-align: left;">
                                        
                                        <h5 id="tag">
                                            made by
                                            <a href="https://alecchan.org/">alec chan</a>
                                        </h5>
                                        <i class="fa fa-commenting-o fa-lg"></i>
                                        
                                        <a href="https://discord.gg/y2ve7Yw" target="_blank">Join our Discord!</a>
                                        <br/>
                                        <i class="fa fa-paypal fa-lg"></i>
                                        <a href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=8WN93X4L7C2YG" target="_blank">Help keep the server running!</a>
                                    </div>
                                    <div class="col-xs-6">
                                        <div id="queuecontrols" style="float: right; display: table; margin-top: 5px; width: 75%;">
                                            <input
                                                id="url"
                                                type="text"
                                                class="hidden"
                                                style="background: transparent; width: 100%;"
                                                placeholder="your video url goes here"
                                            ></input>
                                        
                                            <div>
                                                <a
                                                    class="button button-primary hidden"
                                                    id="addqueue"
                                                    style="float: left; width: 49.5%; margin-right: 0.5%; margin-top: 4px;"
                                                >Add to queue</a>
                                                <a
                                                    class="button button-primary hidden"
                                                    id="clearqueue"
                                                     style="float: right; width: 49.5%; margin-left: 0.5%; margin-top: 4px;"
                                                >Clear queue</a>
                                            </div>
                                            
                                        </div>
                                        <h4
                                            id="queuetitle"
                                            class="hidden"
                                            style="margin-bottom: 10px;"
                                        >Queue</h5>
                                        <div
                                            id="queue"
                                            class="hidden"
                                            
                                        ></div>
                                        <a
                                        
                                            class="button button-primary hidden"
                                            id="gethash"
                                            title="Saves your queue to cookies. Press clear queue to delete the cookie."
                                            style="margin-top: 5px; width: 100%;"
                                        >Save queue</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal fade" id="warning_dialog" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document" style="color: #000">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Warning!</h5>
                    </div>
                    <div class="modal-body">
                        Opening your room will allow everyone to have full control over the video playback and the queue. Are you sure?
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" onclick="cancelOpenRoom(); return false;" data-dismiss="modal">Cancel</button>
                        <button type="button" class="btn btn-primary" onclick="openRoom(); return false;" data-dismiss="modal">Ok</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal -->
        <div class="modal fade" id="queuenamemodal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        Name your queue: <input id="queuename" type="text" style="background: transparent;" placeholder="queue name"></input>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        <button type="button" class="btn btn-primary">Save changes</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- /#page-content-wrapper -->
    </div>

    <!-- /#wrapper -->
    
    <script src="jsm/jquery.min.js"></script>
    <script src="jsm/bootstrap.min.js"></script>
    <!--<script src="jsm/jquery-ui.min.js"></script>-->
    <script src="jsm/video.min.js"></script>
    <script src="jsm/videojs-contrib-hls.min.js"></script>
    <script src="jsm/Youtube.min.js"></script>
    <script src="jsm/notify.min.js"></script>
    <script src="jsm/client.min.js"></script>
    <script src="jsm/loginform.min.js"></script>
    
    <script>
        $( function() {
            $("[title]").tooltip();
        } );
    </script>
    <link rel="stylesheet" href="cssm/font-awesome.min.css">
    <link rel="stylesheet" href="cssm/loginform.min.css">

    <!-- Menu Toggle Script -->

    <script>
    $("#menu-toggle").click(function(e) {
        e.preventDefault();
        $("#wrapper").toggleClass("toggled");
        isChatOpen=!isChatOpen;
        if(isChatOpen){
            unreadChats=0;
        }
    });
    </script>

</body>
</html>